<section class="portfolio-section">
    <div class="container">
        <h2 class="section-title-center">Mon Portfolio : L'Impact de l'Expertise Full-Stack</h2>
        <p class="intro-text">
            Chaque projet raconte une histoire de défi technique, d'innovation et de résultats concrets. Filtrez pour découvrir mes réalisations en **Angular, Spring Boot** et autres technologies clés.
        </p>

        <div class="filter-controls fade-in-up">
            <button 
                *ngFor="let tag of uniqueTags" 
                (click)="filterProjects(tag)" 
                [class.active]="tag === currentFilter"
                class="filter-tag"
            >
                {{ tag }}
            </button>
        </div>

        <div class="projects-grid">
            
            <div *ngIf="filteredProjects.length === 0" class="no-projects">
                <i class="fas fa-search-minus"></i>
                <p>Aucun projet ne correspond au filtre **"{{ currentFilter }}"**. Essayez un autre tag !</p>
            </div>
            
            <div 
                *ngFor="let project of filteredProjects" 
                class="project-card fade-in-up" 
                (click)="openProjectDetails(project)"
            >
                <img [src]="project.image" [alt]="'Image du projet ' + project.title" class="project-image">
                <div class="card-content">
                    <h3 class="project-title">{{ project.title }}</h3>
                    <p class="project-description">{{ project.shortDescription }}</p>
                    
                    <div class="tag-row">
                        <span 
                            class="tech-tag" 
                            [class.primary-tech]="tech === 'Angular' || tech === 'Spring Boot'" 
                            *ngFor="let tech of project.technologies.slice(0, 3)"
                        >
                            {{ tech }}
                        </span>
                        <span *ngIf="project.technologies.length > 3" class="tech-tag more-tag">+{{ project.technologies.length - 3 }} autres</span>
                    </div>

                    <div class="project-footer">
                        <button class="details-button">Voir Détails <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            
        </div>
        
        <div class="portfolio-cta">
            <h3 class="cta-title">Prêt à Transformer Votre Idée en Réalité ?</h3>
            <a routerLink="/contact" class="cta-button primary-btn">Discutons de Votre Projet</a>
        </div>

    </div>
</section>

<div *ngIf="selectedProject" class="project-modal" (click)="closeProjectDetails()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        
        <button class="close-button" (click)="closeProjectDetails()">&times;</button>
        
        <div class="modal-header">
            <img [src]="selectedProject.image" [alt]="'Image du projet ' + selectedProject.title" class="modal-image">
            <div class="header-details">
                <h2>{{ selectedProject.title }}</h2>
                <span class="project-type-badge">{{ selectedProject.type }}</span>
            </div>
        </div>

        <div class="modal-body">
            <h3>Description du Projet et Objectifs</h3>
            <p>{{ selectedProject.longDescription }}</p>
            
            <div class="impact-box">
                <i class="fas fa-bullseye"></i>
                <h4>Impact mesuré:</h4>
                <p>{{ selectedProject.impact }}</p>
            </div>
            
            <h3>Technologies Maîtrisées</h3>
            <div class="tech-stack-list">
                <span *ngFor="let tech of selectedProject.technologies" class="modal-tech-tag">
                    {{ tech }}
                </span>
            </div>
        </div>

        <div class="modal-footer">
            <a *ngIf="selectedProject.liveUrl" [href]="selectedProject.liveUrl" target="_blank" class="modal-btn live-btn">
                <i class="fas fa-globe"></i> Accès Projet
            </a>
            <a *ngIf="selectedProject.githubUrl" [href]="selectedProject.githubUrl" target="_blank" class="modal-btn github-btn">
                <i class="fab fa-github"></i> Redirection
            </a>
            <a routerLink="/contact" (click)="closeProjectDetails()" class="modal-btn contact-btn">
                <i class="fas fa-handshake"></i> Parler d'un Projet Similaire
            </a>
        </div>
    </div>
</div>